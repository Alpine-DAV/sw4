# SW4 input: read entire berkeley rfile model and make images

fileio path=entire-berkeley-results

# Grid coords: (Change h=100 to h=25)
# DON'T CHANGE AZ
grid x=12000 y=12000 z=6300 h=200 lon=-122.25 lat=37.93 az=143.6380001671 proj=tmerc datum=NAD83 lon_p=-123.0 lat_p=35.0 scale=0.9996
# grid x=12000 y=12000 z=6300 h=100 lon=-122.25 lat=37.93 az=143.6380001671 proj=tmerc datum=NAD83 lon_p=-123.0 lat_p=35.0 scale=0.9996
supergrid gp=4
time steps=0

# Earth Model

# Rfile material model + topography

# rfile filename=berkeley.rfile
# Below for h=200
sfile filename=entire-berkeley.sfile mode=read
# refinement zmax=2837.5
refinement zmax=3937.5
# Below for h=100
# sfile filename=entire-berkeley.sfile mode=write horizontalInterval=4 depths=2587.5,3187.5
# sfile filename=entire-berkeley.sfile mode=write horizontalInterval=4 depths=500,2000
# sfile filename=entire-berkeley.sfile mode=write horizontalInterval=4 depths=500,2000,2587.5
# refinement zmax=2587.5 # hv=50 
# refinement zmax=3187.5 # hv=100 for z > zmax in the rfile model


# NOTE: order = 2 for quadratic interpolation ONLY to be used for model construction
# topography input=rfile zmax=2287.5 order=2 file=berkeley.rfile
topography input=sfile zmax=2287.5 order=2 file=entire-berkeley.sfile

attenuation

# 1 source to make SW4 happy
source x=6e3 y=6e3 depth=3e3

# Image output z=0 (make sure you are on a parallel file system if fileio pio=1
image z=0 mode=p file=image cycle=0
image z=0 mode=s file=image cycle=0
image z=0 mode=rho file=image cycle=0
image z=0 mode=lat file=image cycle=0
image z=0 mode=lon file=image cycle=0
image z=0 mode=topo file=image cycle=0
# vertical x-sections
image x=0000 mode=s file=image cycle=0
image y=0000 mode=rho file=image cycle=0
image y=0000 mode=p file=image cycle=0
image y=0000 mode=s file=image cycle=0
image y=0000 mode=qp file=image cycle=0
image y=0000 mode=qs file=image cycle=0

# output the materials for testing hdf5 rfile output
volimage cycle=0 mode=rho file=material
volimage cycle=0 mode=p file=material
volimage cycle=0 mode=s file=material
volimage cycle=0 mode=qs file=material
volimage cycle=0 mode=qp file=material

